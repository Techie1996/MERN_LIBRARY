{"ast":null,"code":"// BookCard.js\nimport React from'react';import{Box,Heading,Text,useColorModeValue,Button,Toast}from'@chakra-ui/react';// components/BookCard.js\n// ... (other imports and code)\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const BookCard=_ref=>{var _book$volumeInfo2,_book$volumeInfo3,_book$volumeInfo4,_book$volumeInfo5;let{book,isAdmin,onAvailabilityChange,onTransaction}=_ref;const cardBgColor=useColorModeValue('white','gray.700');// Define the cardBgColor\n//const BookCard = ({ book, isAdmin, onAvailabilityChange, onTransaction }) => {\nconst handleAvailabilityChange=async()=>{try{const newAvailability=(book===null||book===void 0?void 0:book.availabilityStatus)==='Available'?'Not Available':'Available';// Make a request to your server to update the availability\nconst response=await fetch(\"http://localhost:5000/api/book/\".concat(book===null||book===void 0?void 0:book.id,\"/updateAvailability\"),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({availability:newAvailability})});if(response.ok){var _book$volumeInfo;// Update the availability on the client side\nonAvailabilityChange(book===null||book===void 0?void 0:book.id,newAvailability);showToast(\"Availability for \\\"\".concat(book===null||book===void 0?void 0:(_book$volumeInfo=book.volumeInfo)===null||_book$volumeInfo===void 0?void 0:_book$volumeInfo.title,\"\\\" updated to \").concat(newAvailability));}else{console.error('Failed to update availability');showToast('Failed to update availability');}}catch(error){console.error('Error updating availability:',error);showToast('Error updating availability');}};const showToast=message=>{Toast({title:message,status:'info',duration:5000,isClosable:true});};return/*#__PURE__*/_jsxs(Box,{p:\"3\",borderWidth:\"1px\",borderRadius:\"md\",bg:cardBgColor,_hover:{shadow:'md'},children:[/*#__PURE__*/_jsx(Heading,{as:\"h3\",size:\"sm\",mb:\"2\",noOfLines:2,children:book===null||book===void 0?void 0:(_book$volumeInfo2=book.volumeInfo)===null||_book$volumeInfo2===void 0?void 0:_book$volumeInfo2.title}),(book===null||book===void 0?void 0:(_book$volumeInfo3=book.volumeInfo)===null||_book$volumeInfo3===void 0?void 0:_book$volumeInfo3.authors)&&/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",color:\"gray.500\",noOfLines:1,children:[\"Author(s): \",book.volumeInfo.authors.join(', ')]}),(book===null||book===void 0?void 0:(_book$volumeInfo4=book.volumeInfo)===null||_book$volumeInfo4===void 0?void 0:_book$volumeInfo4.description)&&/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:\"gray.500\",noOfLines:3,children:book===null||book===void 0?void 0:(_book$volumeInfo5=book.volumeInfo)===null||_book$volumeInfo5===void 0?void 0:_book$volumeInfo5.description}),(book===null||book===void 0?void 0:book.availabilityStatus)&&/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",color:\"green.500\",children:[\"Availability: \",book===null||book===void 0?void 0:book.availabilityStatus]}),isAdmin&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Button,{mt:\"2\",size:\"sm\",onClick:handleAvailabilityChange,children:(book===null||book===void 0?void 0:book.availabilityStatus)==='Available'?'Mark as Not Available':'Mark as Available'})})]},book===null||book===void 0?void 0:book.id);};export default BookCard;","map":{"version":3,"names":["React","Box","Heading","Text","useColorModeValue","Button","Toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BookCard","_ref","_book$volumeInfo2","_book$volumeInfo3","_book$volumeInfo4","_book$volumeInfo5","book","isAdmin","onAvailabilityChange","onTransaction","cardBgColor","handleAvailabilityChange","newAvailability","availabilityStatus","response","fetch","concat","id","method","headers","body","JSON","stringify","availability","ok","_book$volumeInfo","showToast","volumeInfo","title","console","error","message","status","duration","isClosable","p","borderWidth","borderRadius","bg","_hover","shadow","children","as","size","mb","noOfLines","authors","fontSize","color","join","description","mt","onClick"],"sources":["C:/Users/Reyan/OneDrive/Desktop/ONline Library/MERN-LIBRARY-APP/frontend/src/components/BookCard.js"],"sourcesContent":["// BookCard.js\r\n\r\nimport React from 'react';\r\nimport {\r\n  Box,\r\n  Heading,\r\n  Text,\r\n  useColorModeValue,\r\n  Button,\r\n  Toast,\r\n} from '@chakra-ui/react';\r\n\r\n// components/BookCard.js\r\n\r\n// ... (other imports and code)\r\n\r\nconst BookCard = ({ book, isAdmin, onAvailabilityChange, onTransaction }) => {\r\n    const cardBgColor = useColorModeValue('white', 'gray.700'); // Define the cardBgColor\r\n//const BookCard = ({ book, isAdmin, onAvailabilityChange, onTransaction }) => {\r\n  const handleAvailabilityChange = async () => {\r\n    try {\r\n      const newAvailability =\r\n        book?.availabilityStatus === 'Available' ? 'Not Available' : 'Available';\r\n\r\n      // Make a request to your server to update the availability\r\n      const response = await fetch(`http://localhost:5000/api/book/${book?.id}/updateAvailability`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ availability: newAvailability }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        // Update the availability on the client side\r\n        onAvailabilityChange(book?.id, newAvailability);\r\n        showToast(`Availability for \"${book?.volumeInfo?.title}\" updated to ${newAvailability}`);\r\n      } else {\r\n        console.error('Failed to update availability');\r\n        showToast('Failed to update availability');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating availability:', error);\r\n      showToast('Error updating availability');\r\n    }\r\n  };\r\n\r\n\r\n  const showToast = (message) => {\r\n    Toast({\r\n      title: message,\r\n      status: 'info',\r\n      duration: 5000,\r\n      isClosable: true,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      key={book?.id}\r\n      p=\"3\"\r\n      borderWidth=\"1px\"\r\n      borderRadius=\"md\"\r\n      bg={cardBgColor}\r\n      _hover={{ shadow: 'md' }}\r\n    >\r\n      <Heading as=\"h3\" size=\"sm\" mb=\"2\" noOfLines={2}>\r\n        {book?.volumeInfo?.title}\r\n      </Heading>\r\n      {book?.volumeInfo?.authors && (\r\n        <Text fontSize=\"xs\" color=\"gray.500\" noOfLines={1}>\r\n          Author(s): {book.volumeInfo.authors.join(', ')}\r\n        </Text>\r\n      )}\r\n      {book?.volumeInfo?.description && (\r\n        <Text fontSize=\"xs\" color=\"gray.500\" noOfLines={3}>\r\n          {book?.volumeInfo?.description}\r\n        </Text>\r\n      )}\r\n      {book?.availabilityStatus && (\r\n        <Text fontSize=\"xs\" color=\"green.500\">\r\n          Availability: {book?.availabilityStatus}\r\n        </Text>\r\n      )}\r\n\r\n      {isAdmin && (\r\n        <>\r\n          <Button mt=\"2\" size=\"sm\" onClick={handleAvailabilityChange}>\r\n            {book?.availabilityStatus === 'Available'\r\n              ? 'Mark as Not Available'\r\n              : 'Mark as Available'}\r\n          </Button>\r\n        </>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BookCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}